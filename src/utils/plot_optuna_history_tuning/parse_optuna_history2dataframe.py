import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import matplotlib
import seaborn as sns
import os
import glob
import pprint
import warnings
import sys
import re

from matplotlib.patches import Rectangle
from matplotlib_venn import venn3, venn3_circles, venn3_unweighted

log_mlp_expvar_data1_expval = [0.42998, -192162.31235, -0.0, -31.94325, None, -0.0, 0.48551, 0.37216, 0.48214, None, 0.50049, 0.49059, 0.51336, 0.50582, 0.5151, 0.48717, -15.80031, -0.03766, 0.51344, 0.51596, 0.47343, 0.51234, 0.49077, 0.52082, 0.48192, None, 0.51826, 0.51508, 0.51169, 0.51555, None, 0.51701, 0.51845, 0.5225, 0.52282, 0.52438, 0.52107, 0.52125, 0.52363, None, 0.52192, 0.52205, 0.52254, 0.52366, None, 0.51744, None, None, 0.52133, None, None, 0.51809, 0.51857, None, 0.52029, 0.51954, None, None, 0.52013, None, None, None, None, 0.5271, None, 0.52317, None, 0.51628, 0.53035, 0.52971, 0.5257, 0.52974, 0.52387, 0.52442, 0.52561, None, 0.51025, None, 0.52971, 0.52154, None, 0.52368, 0.52101, 0.51526, None, None, None, None, None, 0.52736, None, 0.52752, None, 0.52524, None, 0.5169, None, 0.51646, None, None]
log_mlp_expvar_data1_losval = [0.01758, 5757.70359, 0.78961, 1.10034, None, 0.79708, 0.01553, 0.01895, 0.01601, None, 0.01529, 0.01543, 0.01472, 0.01502, 0.01473, 0.01558, 0.49569, 0.03224, 0.015, 0.01497, 0.01603, 0.01492, 0.01563, 0.01476, 0.01589, None, 0.01457, 0.01469, 0.01491, 0.01471, None, 0.0147, 0.0146, 0.01449, 0.01454, 0.01449, 0.01458, 0.01453, 0.01448, None, 0.01465, 0.01461, 0.01462, 0.01448, None, 0.01464, None, None, 0.01459, None, None, 0.01469, 0.01465, None, 0.01459, 0.01465, None, None, 0.0146, None, None, None, None, 0.01441, None, 0.01449, None, 0.01473, 0.01424, 0.01425, 0.0145, 0.0143, 0.01462, 0.01454, 0.01441, None, 0.01486, None, 0.01431, 0.01453, None, 0.01445, 0.01457, 0.01507, None, None, None, None, None, 0.01437, None, 0.01439, None, 0.01451, None, 0.01468, None, 0.01471, None, None]

log_mlp_expvar_data2_expval = [0.38029, -84092.90926, 0.0, -15.58431, None, 0.0, 0.39434, 0.31682, 0.35774, None, 0.39556, 0.37818, 0.39106, 0.39232, 0.20929, 0.3757, -0.20468, 0.40876, 0.40869, 0.40377, 0.39033, 0.39719, 0.39773, 0.40697, None, 0.40273, None, 0.40698, 0.39834, 0.37058, None, 0.405, 0.40746, 0.40833, 0.40432, None, 0.40478, 0.40559, None, None, 0.40511, 0.40477, 0.4031, None, None, None, 0.39838, 0.40071, 0.40293, 0.3834, None, 0.40832, 0.4067, None, 0.40117, None, None, 0.411, None, 0.40423, None, 0.40749, 0.40067, None, None, None, None, 0.37458, 0.40048, 0.40693, None, 0.40457, 0.39947, None, None, 0.40471, None, None, 0.39935, None, 0.40148, 0.40875, None, None, 0.40568, None, 0.41288, 0.40557, None, None, None, 0.39988, 0.40786, 0.39954, 0.40464, 0.41118, 0.40677, 0.4106, None, 0.41046]
log_mlp_expvar_data2_mseval = [0.01847, 2657.14392, 0.72684, 0.68532, None, 0.8869, 0.01815, 0.02052, 0.0193, None, 0.01809, 0.01844, 0.01796, 0.018, 0.02394, 0.01846, 0.03665, 0.01752, 0.01759, 0.01764, 0.01804, 0.01784, 0.01772, 0.01762, None, 0.01763, None, 0.0175, 0.01799, 0.01863, None, 0.01759, 0.01755, 0.01753, 0.01764, None, 0.01762, 0.01775, None, None, 0.01757, 0.01758, 0.01764, None, None, None, 0.01782, 0.01771, 0.01765, 0.01818, None, 0.01748, 0.01759, None, 0.01771, None, None, 0.01743, None, 0.01766, None, 0.01767, 0.01766, None, None, None, None, 0.01857, 0.01774, 0.01746, None, 0.01763, 0.01779, None, None, 0.01759, None, None, 0.01779, None, 0.01781, 0.01753, None, None, 0.01756, None, 0.01739, 0.01756, None, None, None, 0.01774, 0.01756, 0.01774, 0.01759, 0.01751, 0.01758, 0.01743, None, 0.01752]

log_mlp_expvar_data3_expval = [0.6521, -20914.35102, 0.0, -25.47657, None, 0.0, 0.64846, 0.47, 0.65708, None, 0.67071, 0.66451, 0.66608, 0.66674, 0.6697, 0.65211, -5.17529, 0.65234, 0.67143, 0.67007, 0.67425, 0.66984, 0.66901, 0.66973, None, None, 0.66776, 0.67041, None, 0.66843, None, 0.66301, None, 0.67011, 0.66519, 0.67178, 0.66602, None, None, None, None, 0.67282, 0.66899, 0.67051, None, 0.66976, 0.66932, None, None, None, None, None, None, 0.66809, 0.66897, None, 0.66973, None, 0.67027, 0.66917, 0.67009, 0.6677, 0.67065, 0.66904, None, 0.66996, None, None, None, 0.67098, None, 0.67099, None, None, 0.67044, None, None, None, 0.67014, None, None, None, None, 0.67082, 0.67138, 0.67052, 0.674, 0.67302, None, 0.66933, None, 0.67113, 0.67198, None, 0.67198, None, 0.66955, None, None, None]
log_mlp_expvar_data3_mseval = [0.00944, 596.46616, 0.36148, 0.87633, None, 0.35859, 0.00951, 0.01444, 0.00927, None, 0.00884, 0.00905, 0.00897, 0.00896, 0.00887, 0.00947, 0.17046, 0.00938, 0.00885, 0.00886, 0.00878, 0.00886, 0.00893, 0.00888, None, None, 0.00891, 0.00888, None, 0.00901, None, 0.00915, None, 0.00888, 0.009, 0.00883, 0.00897, None, None, None, None, 0.0088, 0.00893, 0.00887, None, 0.0089, 0.00887, None, None, None, None, None, None, 0.00893, 0.00892, None, 0.00888, None, 0.0089, 0.00887, 0.00891, 0.00893, 0.00891, 0.00893, None, 0.00886, None, None, None, 0.00883, None, 0.00889, None, None, 0.00886, None, None, None, 0.00887, None, None, None, None, 0.00882, 0.00886, 0.00886, 0.00877, 0.00879, None, 0.00887, None, 0.00883, 0.00885, None, 0.0088, None, 0.00891, None, None, None]

log_mlp_mseloss_data1_expval = [0.42998, -192162.31235, -0.0, -31.94325, None, -0.0, 0.48551, 0.37216, 0.48214, None, 0.50049, 0.49059, 0.51336, 0.50582, 0.5151, 0.48717, -15.80031, -0.03766, 0.51344, 0.52263, 0.51342, 0.51119, 0.51491, 0.51974, 0.51719, None, 0.52426, None, 0.52169, None, 0.49975, 0.50414, 0.52032, None, 0.5183, None, 0.52187, None, 0.51471, 0.51633, None, 0.51949, 0.52297, None, 0.51554, 0.51892, None, None, 0.51299, 0.52064, None, 0.51714, None, 0.51703, None, 0.51848, None, None, 0.51303, 0.52132, None, 0.51893, None, None, None, 0.51597, None, 0.51659, 0.5291, None, None, None, None, None, None, 0.5247, 0.52177, None, None, None, None, 0.51234, None, 0.50365, None, None, None, 0.52497, 0.51609, 0.5233, 0.52663, 0.52009, 0.52429, 0.51573, None, 0.52455, 0.51664, None, 0.51911, 0.51228]
log_mlp_mseloss_data1_mseval = [0.01758, 5757.70359, 0.78961, 1.10034, None, 0.79708, 0.01553, 0.01895, 0.01601, None, 0.01529, 0.01543, 0.01472, 0.01502, 0.01473, 0.01558, 0.49569, 0.03224, 0.015, 0.01455, 0.01502, 0.0149, 0.01492, 0.01458, 0.01474, None, 0.01445, None, 0.01455, None, 0.01513, 0.01512, 0.01456, None, 0.01469, None, 0.01452, None, 0.01474, 0.01474, None, 0.01469, 0.01462, None, 0.0147, 0.01462, None, None, 0.01486, 0.01455, None, 0.01465, None, 0.01475, None, 0.01467, None, None, 0.01481, 0.01459, None, 0.01468, None, None, None, 0.01478, None, 0.01481, 0.01457, None, None, None, None, None, None, 0.01458, 0.01461, None, None, None, None, 0.01483, None, 0.01511, None, None, None, 0.01457, 0.01468, 0.01458, 0.01436, 0.0147, 0.01444, 0.01477, None, 0.01454, 0.01471, None, 0.01465, 0.01479]

log_mlp_mseloss_data2_expval = [0.38029, -84092.90926, 0.0, -15.58431, None, 0.0, 0.39434, 0.31682, 0.35774, None, 0.39556, 0.37818, 0.39106, 0.37833, 0.38863, 0.40143, -1.22712, 0.02596, 0.40619, 0.37736, 0.35637, 0.39774, 0.39846, 0.39092, 0.38769, None, 0.40197, 0.40219, None, None, None, 0.39934, 0.40454, 0.40268, 0.40811, 0.40527, 0.40098, 0.39564, 0.40627, 0.39981, None, 0.40124, 0.41029, None, 0.39761, 0.41021, None, None, None, 0.40301, 0.38352, 0.40388, 0.40506, 0.40471, 0.40402, None, None, None, 0.40863, 0.40685, 0.39936, 0.40975, 0.40535, 0.39868, 0.40722, 0.40071, 0.40422, 0.41106, 0.41293, 0.40557, 0.41148, 0.40582, 0.40706, 0.4125, 0.40397, None, None, 0.40524, 0.41145, 0.40669, None, 0.40589, 0.4127, 0.40855, 0.40174, None, 0.40948, 0.39954, 0.4029, 0.40357, 0.40421, 0.40502, None, None, 0.40684, 0.40555, None, None, 0.40835, None]
log_mlp_mseloss_data2_mseval = [0.01847, 2657.14392, 0.72684, 0.68532, None, 0.8869, 0.01815, 0.02052, 0.0193, None, 0.01809, 0.01844, 0.01796, 0.01839, 0.01805, 0.01776, 0.07531, 0.02962, 0.01756, 0.01849, 0.01945, 0.0178, 0.01793, 0.018, 0.01821, None, 0.01762, 0.01764, None, None, None, 0.01771, 0.01756, 0.01761, 0.01757, 0.01753, 0.01772, 0.01786, 0.01767, 0.01779, None, 0.01771, 0.01752, None, 0.01775, 0.01755, None, None, None, 0.01768, 0.01815, 0.01758, 0.01772, 0.01761, 0.01773, None, None, None, 0.01754, 0.01748, 0.01778, 0.01741, 0.01757, 0.01782, 0.01755, 0.01772, 0.01758, 0.01747, 0.01741, 0.01753, 0.01744, 0.01753, 0.01753, 0.01756, 0.01759, None, None, 0.01756, 0.01744, 0.01756, None, 0.01757, 0.01744, 0.01752, 0.01777, None, 0.01755, 0.01774, 0.01765, 0.01759, 0.01768, 0.01767, None, None, 0.01754, 0.01752, None, None, 0.01752, None]

log_mlp_mseloss_data3_expval = [0.6521, -20914.35102, 0.0, -25.47657, None, 0.0, 0.64846, 0.47, 0.65708, None, 0.67071, 0.66451, 0.66608, 0.66674, 0.6697, 0.65211, -5.17529, 0.65234, 0.67143, 0.67007, 0.67425, 0.66984, 0.66901, 0.66973, None, None, 0.66776, 0.67041, None, 0.66843, None, 0.6721, 0.66771, 0.67491, 0.66986, 0.67373, None, None, None, None, None, 0.66944, 0.6726, None, 0.67036, None, None, 0.66642, 0.67114, None, None, 0.66872, 0.66947, 0.67104, 0.66827, 0.67182, None, 0.67273, 0.67043, None, None, 0.67069, 0.66701, 0.67135, 0.66828, 0.67162, None, None, None, None, None, 0.66968, 0.6681, None, None, None, 0.66821, 0.67065, 0.67287, None, None, 0.67057, 0.67321, 0.6714, 0.6707, None, 0.67185, None, None, None, None, 0.67104, None, None, None, None, 0.67161, None, 0.67293, None]
log_mlp_mseloss_data3_mseval = [0.00944, 596.46616, 0.36148, 0.87633, None, 0.35859, 0.00951, 0.01444, 0.00927, None, 0.00884, 0.00905, 0.00897, 0.00896, 0.00887, 0.00947, 0.17046, 0.00938, 0.00885, 0.00886, 0.00878, 0.00886, 0.00893, 0.00888, None, None, 0.00891, 0.00888, None, 0.00901, None, 0.00883, 0.00896, 0.00873, 0.00885, 0.00878, None, None, None, None, None, 0.00892, 0.00881, None, 0.00888, None, None, 0.00895, 0.00882, None, None, 0.00892, 0.00885, 0.00885, 0.00891, 0.00884, None, 0.0088, 0.0089, None, None, 0.00886, 0.00896, 0.00884, 0.00891, 0.00886, None, None, None, None, None, 0.00886, 0.00895, None, None, None, 0.00894, 0.0089, 0.0089, None, None, 0.00886, 0.00878, 0.00884, 0.00885, None, 0.0088, None, None, None, None, 0.00887, None, None, None, None, 0.00884, None, 0.0088, None]

# create dataframe with pandas
data = {'mlp_expvarobj_data1_expvals': log_mlp_expvar_data1_expval,
             'mlp_expvarobj_data1_msevals': log_mlp_expvar_data1_losval,
             'mlp_expvarobj_data2_expvals': log_mlp_expvar_data2_expval,
             'mlp_expvarobj_data2_msevals': log_mlp_expvar_data2_mseval,
             'mlp_expvarobj_data3_expvals': log_mlp_expvar_data3_expval,
             'mlp_expvarobj_data3_msevals': log_mlp_expvar_data3_mseval,
             'mlp_mselossobj_data1_expvals': log_mlp_mseloss_data1_expval,
             'mlp_mselossobj_data1_msevals': log_mlp_mseloss_data1_mseval,
             'mlp_mselossobj_data2_expvals': log_mlp_mseloss_data2_expval,
             'mlp_mselossobj_data2_msevals': log_mlp_mseloss_data2_mseval,
             'mlp_mselossobj_data3_expvals': log_mlp_mseloss_data3_expval,
             'mlp_mselossobj_data3_msevals': log_mlp_mseloss_data3_mseval
             }
dataframe = pd.DataFrame(data)

# write to file
dataframe.to_csv('./data_optuna_tuning_mlp_history.csv', index=False)
print(dataframe)